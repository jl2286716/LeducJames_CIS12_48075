<!doctype html>
<html lang="en">
	<head>
		<title>Zompocalypse</title>
		<meta charset="utf-8">
		<script src=""></script>
		<script>
			function setPlayer(playerName){
				var p = new Object();
					p = {
					name:playerName,
					health:200,
					maxH:200,
					def:10,
					spd:50,
					pwr:20,
					acc:50,
					crit:0,
					mm357:0,
					mm39:0,
					mm9:0,
					shell:0,
					quiv:0,
					arr:0
				};
				return p;
			}
			function setGear(n,t,w,h,mh,d,s,p,a,c,m357,m39,m9,sh,q,ar){
				var g = new Object();
					g = {
					name:n,
					type:t,
					wear:w,
					health:h,
					maxH:mh,
					def:d,
					spd:s,
					pwr:p,
					acc:a,
					crit:c,
					mm357:m357,
					mm39:m39,
					mm9:m9,
					shell:sh,
					quiv:q,
					arr:ar
				};
				return g;
			}
			function setEquip(hd,ch,bk,hn,ft){
				var e = new Object();
					e = {
					head:hd,
					chest:ch,
					back:bk,
					hands:hn,
					feet:ft
				};
				return e;
			}
			function updatePlayer(player,found,current){
				//var name = player.name;
				var health = player.health - current.health + found.health;
				var maxHealth = player.maxH - current.maxH + found.maxH;
				var defense = player.def - current.def + found.def;
				var speed = player.spd - current.spd + found.spd;
				var power = player.pwr - current.pwr + found.pwr;
				var accuracy = player.acc - current.acc + found.acc;
				var critChance = player.crit - current.crit + found.crit;
				var mm357Round = player.mm357 - current.mm357 + found.mm357;
				var mm39Round = player.mm39 - current.mm39 + found.mm39;
				var mm9Round = player.mm9 - current.mm9 + found.mm9;
				var shell = player.shell - current.shell + found.shell;
				var quiver = player.quiv - current.quiv + found.quiv;
				var arrows = player.arr - current.arr + found.arr;
				player = {
					name:player.name,
					health:health,
					maxH:maxHealth,
					def:defense,
					spd:speed,
					pwr:power,
					acc:accuracy,
					crit:critChance,
					mm357:mm357Round,
					mm39:mm39Round,
					mm9:mm9Round,
					shell:shell,
					quiv:quiver,
					arr:arrows
				};
				return player;
			}
			function displayStats(player){
				var str = "";
				str+=("Name: "+player.name+"<br>");
				str+=("Current Health: "+player.health+"<br>");
				str+=("Max Health: "+player.maxH+"<br>");
				str+=("Defense: "+player.def+"<br>");
				str+=("Speed: "+player.spd+"<br>");
				str+=("Power: "+player.pwr+"<br>");
				str+=("Accuracy: "+player.acc+"<br>");
				str+=("Critical Chance: "+player.crit+"<br>");
				str+=("357mm Rounds: "+player.mm357+"<br>");
				str+=("39mm Rounds: "+player.mm39+"<br>");
				str+=("9mm Rounds: "+player.mm9+"<br>");
				str+=("Shotgun Shells: "+player.shell+"<br>");
				str+=("Quiver Capacity: "+player.quiv+"<br>");
				str+=("Arrows: "+player.arr+"<br>");
				document.getElementById("stats").innerHTML = str;
			}
			function displayEquip(equip){
				var str = "";
				str+=("Head: "+equip.head+"<br>");
				str+=("Chest: "+equip.chest+"<br>");
				str+=("Back: "+equip.back+"<br>");
				str+=("Hands: "+equip.hands+"<br>");
				str+=("Feet: "+equip.feet+"<br>");
				document.getElementById("equip").innerHTML = str;
			}
		</script>
	</head>
	<body>
		<script>
			//	Create the player and set default stats:
			var pName = prompt("What's your name?");
			var player = setPlayer(pName);
			
			//	Output stat table:
			//	Display table headers:
			document.write("<center><table width='500' border=1><tr><td><h2>"+pName+"'s Stats</h2></td><td><h2>Equipment</h2></td></tr>");
			//	Display table content holders:
			document.write("<tr><td id='stats'></td><td id='equip' style='vertical-align:text-top'></td></tr></table></center>");
		
		//	for(value in player){
		//		document.write("<h1>"+value+": "+player[value]+"<h1>");
		//	}
		
			//	Set default player equipment
			alert("Welcome to the end of the world, "+pName+"!");
			var equip = setEquip("Bare","Bare","Bare","Bare","Bare");
			
		//	for(value in equip){
		//		document.write("<h1>"+value+": "+equip[value]+"<h1>");
		//	}
			
			//	Display stats and equipment:
			displayStats(player);
			displayEquip(equip);

			//	Create & initialize gear variables (previous, current, found):
			//	Head objects:
			var pHead = setGear("None","None","None",0,0,0,0,0,0,0,0,0,0,0,0,0);
			var cHead = setGear("None","None","None",0,0,0,0,0,0,0,0,0,0,0,0,0);
			var fHead = setGear("None","None","None",0,0,0,0,0,0,0,0,0,0,0,0,0);
			//	Chest objects:
			var pChest = setGear("None","None","None",0,0,0,0,0,0,0,0,0,0,0,0,0);
			var cChest = setGear("None","None","None",0,0,0,0,0,0,0,0,0,0,0,0,0);
			var fChest = setGear("None","None","None",0,0,0,0,0,0,0,0,0,0,0,0,0);
			//	Back objects:
			var pBack = setGear("None","None","None",0,0,0,0,0,0,0,0,0,0,0,0,0);
			var cBack = setGear("None","None","None",0,0,0,0,0,0,0,0,0,0,0,0,0);
			var fBack = setGear("None","None","None",0,0,0,0,0,0,0,0,0,0,0,0,0);
			//	Hands objects
			var pHands = setGear("None","None","None",0,0,0,0,0,0,0,0,0,0,0,0,0);
			var cHands = setGear("None","None","None",0,0,0,0,0,0,0,0,0,0,0,0,0);
			var fHands = setGear("None","None","None",0,0,0,0,0,0,0,0,0,0,0,0,0);
			//	Feet objects
			var pFeet = setGear("None","None","None",0,0,0,0,0,0,0,0,0,0,0,0,0);
			var cFeet = setGear("None","None","None",0,0,0,0,0,0,0,0,0,0,0,0,0);
			var fFeet = setGear("None","None","None",0,0,0,0,0,0,0,0,0,0,0,0,0);
			
			//	Output Intro story:
			alert("For the past few days, there have been news reports of a new global viral pandemic sweeping across the nation...");
			alert("The time is 9:42 PM on a Sunday night: You are at home in bed watching your favorite TV show when it is interrupted by a breaking news bulletin...");
			alert("Reporter: Chaos has erupted in Los Angeles and the surrounding counties! We now go live to our correspondent on the scene!");
			alert("Correspondent: -shrk-...pandemonium...-shrk-...are attacking other people...-shrk-...dead...-shrk-...rising and...-shrk-AAAAAHHH!!!-shrk-schhh-");
			alert("Reporter: Oh! Oh my God! Wha... Was that blood that just spla...What?! This just in! The president is issuing a statement. We now go live to the White House.");
			alert("President: ...remain indoors!-shrk-...of rations and board up all...-shrk-schhh-");
			alert("Reporter: We seem to have lost the feed and...-yelling in the background-...OH MY GOD!!!-shrk-schhh-");
			alert("The television turns to static. You turn to the other channels for further info...Nothing but static.");
			alert("You pick up your cellphone to check on your family and friends...No service.");
			alert("You put on a shirt and throw on your slippers and walk into the living room when you hear an explosion in the distance. The windows shake and the power goes out.");
			
			//	Equip shirt (chest):
			fChest = setGear("Shirt","Armor","Chest",5,5,1,0,0,0,0,0,0,0,0,0,0);
			player = updatePlayer(player,fChest,cChest);
			pChest = cChest;
			cChest = fChest;
						
			//	Equip slippers (feet):
			fFeet = setGear("Slippers","Armor","Feet",5,5,1,-5,0,0,0,0,0,0,0,0,0);
			player = updatePlayer(player,fFeet,cFeet);
			pFeet = cFeet;
			cFeet = fFeet;
			
			//	Display updated stats:
			displayStats(player);
			displayEquip(equip);
			
		</script>
	</body>
</html>